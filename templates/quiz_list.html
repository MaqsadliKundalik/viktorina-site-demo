{% extends "base.html" %}
{% block title %}Testlar roâ€˜yxati{% endblock %}

{% block content %}
<div class="header">
    <h1>ğŸ“š Testlar roâ€˜yxati</h1>
</div>

<div style="display: flex; flex-direction: column; gap: 24px;">
  {% for category in categories %}
    <div>
      <h3 class="mb-2" style="font-size: 1.1rem; font-weight: 600; color: var(--tg-theme-link-color); border-bottom: 1px solid var(--tg-theme-hint-color); padding-bottom: 8px; margin-top: 0;">
        {{ category.name }}
      </h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px;">
        {% for quiz in category.quizzes.all %}
          <a href="{% url 'quiz:start_quiz' quiz.id %}" class="card fade-in" style="text-decoration: none; color: inherit; display: block; transition: transform 0.2s; cursor: pointer;">
            <h4 style="margin: 0 0 8px 0; font-size: 1.1rem; color: var(--tg-theme-text-color);">{{ quiz.title }}</h4>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size: 0.9rem; color: var(--tg-theme-hint-color);">
                  ğŸ“ {{ quiz.questions.count }} ta savol
                </span>
                <span class="btn" style="width: auto; padding: 6px 12px; font-size: 0.8rem;">Boshlash</span>
            </div>
          </a>
        {% empty %}
          <p style="color: var(--tg-theme-hint-color); grid-column: 1 / -1;">Bu boâ€˜limda test yoâ€˜q</p>
        {% endfor %}
      </div>
    </div>
  {% empty %}
    <div class="text-center" style="margin-top: 40px; color: var(--tg-theme-hint-color);">
        <p>Hali hech qanday boâ€˜lim va test qoâ€˜shilmagan.</p>
    </div>
  {% endfor %}
</div>
{% endblock %}
